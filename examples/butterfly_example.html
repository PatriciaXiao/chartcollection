<!DOCTYPE html>
<html lang="en">
<head>
    <title>Butterfly Flow Chart</title>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Dependencies -->
    <script src="lib/d3.js"></script>

    <!-- C3 -->
    <link rel="stylesheet" href="../css/c3.css" />
    <script src="../js/c3.js"></script>
    <script src="../js/c3-graph.js"></script>

    <style>
        .c3.chart, h1 {
            font-family: sans-serif;
        }

        form {
            margin-bottom: 1em;
        }

        .c3.sankey .link.backedge path {
            stroke: red !important;
        }
    </style>
</head>

<body>
    <p>
        Some flow charts can represent graphs that are very complex with many interconnected nodes.
        To help better comprehend these graphs it can help to focus on just part of the flow at a time.
        With the <i>Butterfly</i> flow graph you can click on a node to focus on just the flow that
        goes through that node.  Because it starts with a single node in the center and fans out
        left and right with multiple source and target nodes it is called a "butterfly".
    </p>
    <p>
        This example visualizes the aggregated execution flow of a program.  It is not a timeline.
        The nodes represent functions and the links represent function calls.
        The size of the link is weighted based on the <i>total time</i> of the function call.
        A node will be larger then the links leaving it when the function has <i>self time</i>.
    </p>

        <form>
            <label>
                Data set:
                <select id="dataset">
                    <option value="libpthread" selected>libpthread</option>
                    <option value="schedule">scedule</option>
                </select>
            </label>
            <br/>
            <label>
                Layout algorithm iterations:
                <input id="us_iterations" type="range" min=0 max=64 value=32 />
            </label>
            <br/>
            <label>
                Layout alpha factor:
                <input id="us_alpha" type="range" min=0.1 max=0.99 step=0.01 value=0.99 />
            </label>
            <br/>
            <label>
                Node Width:
                <input id="us_node_width" type="range" min=1 max=100 value=30 />
            </label>
            <label>
                <input type="radio" name="us_node_width_type" value="pixels" checked />
                Pixels
            </label>
            <label>
                <input type="radio" name="us_node_width_type" value="percent" />
                Percent
            </label>
            <br/>
            <label>
                Node Padding:
                <input id="us_node_padding" type="range" min=1 max=100 value=20 />
            </label>
            <label>
                <input type="radio" name="us_node_padding_type" value="pixels" />
                Pixels
            </label>
            <label>
                <input type="radio" name="us_node_padding_type" value="percent" checked />
                Percent
            </label>
            <br/>
            <label>
                Link paths:
                <select id="us_link_path">
                    <option value="curve" selected>Curved</option>
                    <option value="straight">Straight</option>
                </select>
            </label>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <label>
                Curvature:
                <input type="range" id="us_link_path_curvature" min=0 max=1 value=0.5 step=0.01 />
            </label>
        </form>

        <div id="cfg_butterfly"></div>


    <script src="butterfly_example.js"></script>
</body>
</html>
