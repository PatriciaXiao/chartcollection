<!DOCTYPE html>

<html>
<head>
  <title>C3 Sankey Energy Use Flow Chart</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="butterfly_example.html">
                  butterfly_example.ts
                </a>
              
                
                <a class="source" href="flamechart_sunburst_example.html">
                  flamechart_sunburst_example.ts
                </a>
              
                
                <a class="source" href="legend_example.html">
                  legend_example.ts
                </a>
              
                
                <a class="source" href="pie_example.html">
                  pie_example.ts
                </a>
              
                
                <a class="source" href="plot_area_example.html">
                  plot_area_example.ts
                </a>
              
                
                <a class="source" href="plot_zoom_example.html">
                  plot_zoom_example.ts
                </a>
              
                
                <a class="source" href="sankey_example.html">
                  sankey_example.ts
                </a>
              
                
                <a class="source" href="scatterplot_example.html">
                  scatterplot_example.ts
                </a>
              
                
                <a class="source" href="stack_example.html">
                  stack_example.ts
                </a>
              
                
                <a class="source" href="swimlanes_example.html">
                  swimlanes_example.ts
                </a>
              
                
                <a class="source" href="sync_example.html">
                  sync_example.ts
                </a>
              
                
                <a class="source" href="table_searchable_example.html">
                  table_searchable_example.ts
                </a>
              
                
                <a class="source" href="table_selectable_example.html">
                  table_selectable_example.ts
                </a>
              
                
                <a class="source" href="table_sortable_example.html">
                  table_sortable_example.ts
                </a>
              
                
                <a class="source" href="timeline_example.html">
                  timeline_example.ts
                </a>
              
                
                <a class="source" href="worldbank_example.html">
                  worldbank_example.ts
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="c3-sankey-energy-use-flow-chart">C3 Sankey Energy Use Flow Chart</h1>
<p><em>Demonstrates a Sankey flow chart of the energy production and use in the United States</em>.</p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h2 id="todo-add-source-annotations">TODO: Add source annotations</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> source_color = d3.scale.category20b();

<span class="hljs-keyword">var</span> us_sankey = <span class="hljs-keyword">new</span> c3.Sankey&lt;USEnergyData,USEnergyLink&gt;({
    anchor: <span class="hljs-string">'#us_sankey_flowchart'</span>,

    height: <span class="hljs-number">600</span>,

    key: (d) =&gt; d.name,
    value: (d) =&gt; d.btu,
    link_value: (l) =&gt; l.btu,

    node_options: {
        title: (d) =&gt; d.name + <span class="hljs-string">'\n'</span> + d.btu,
    },
    rect_options: {
        styles: {
            fill: (d) =&gt; source_color(d.name),
            stroke: <span class="hljs-string">'black'</span>,
        },
        animate: <span class="hljs-literal">true</span>,
    },
    link_options: {
        title: (l) =&gt; l.source + <span class="hljs-string">" → "</span> + l.target + <span class="hljs-string">": "</span> + l.btu,
    },
    path_options: {
        styles: {
            stroke: <span class="hljs-string">'blue'</span>,
            opacity: <span class="hljs-number">0.5</span>,
        },
        animate: <span class="hljs-literal">true</span>,
    },
});


<span class="hljs-keyword">var</span> uk_sankey = <span class="hljs-keyword">new</span> c3.Sankey&lt;UKEnergyData, UKEnergyLink&gt;({
    anchor: <span class="hljs-string">'#uk_sankey_flowchart'</span>,

    height: <span class="hljs-number">600</span>,

    link_value: (l) =&gt; l.value,

    align: <span class="hljs-string">'both'</span>,
    node_padding: <span class="hljs-number">15</span>,

    node_options: {
        title: (d) =&gt; d.name,
    },
    rect_options: {
        styles: {
            fill: (d) =&gt; source_color(d.name.split(<span class="hljs-string">' '</span>)[<span class="hljs-number">0</span>]),
            stroke: <span class="hljs-string">'black'</span>,
        },
    },
    link_options: {
        title: (l) =&gt; uk_energy_data.nodes[l.source].name + <span class="hljs-string">" → "</span> + uk_energy_data.nodes[l.target].name + <span class="hljs-string">": "</span> + l.value,
    },
    path_options: {
        styles: {
            stroke: <span class="hljs-string">'blue'</span>,
            opacity: <span class="hljs-number">0.5</span>,
        },
    },
});


<span class="hljs-built_in">window</span>.onresize = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    us_sankey.resize();
    uk_sankey.resize();
};</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Animate flow changes when changing to data for different years</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'us_year'</span>).addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    us_sankey.data = us_energy_data[+<span class="hljs-keyword">this</span>.value].nodes;
    us_sankey.links = us_energy_data[+<span class="hljs-keyword">this</span>.value].links;
    us_sankey.redraw();
});</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Enable animation</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'us_animate'</span>).addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    us_sankey.rect_options.animate = <span class="hljs-keyword">this</span>.checked;
    us_sankey.path_options.animate = <span class="hljs-keyword">this</span>.checked;
});</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Set node alignment justification</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'us_align'</span>).addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    us_sankey.align = <span class="hljs-keyword">this</span>.value;
    us_sankey.redraw();
});</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>IE doesn’t support <code>input</code> events</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> event_name of [<span class="hljs-string">'input'</span>, <span class="hljs-string">'change'</span>]) {</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Set layout algorithm iterations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#us_iterations'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        us_sankey.iterations = +<span class="hljs-keyword">this</span>.value;
        us_sankey.redraw();
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Set layout algorithm alpha</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#us_alpha'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        us_sankey.alpha = +<span class="hljs-keyword">this</span>.value;
        us_sankey.redraw();
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Set node width</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#us_node_width'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        us_sankey.node_width = +<span class="hljs-keyword">this</span>.value;
        <span class="hljs-keyword">if</span> ((&lt;HTMLInputElement&gt;<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input[name=us_node_width_type]:checked'</span>)).value === <span class="hljs-string">'percent'</span>)
            us_sankey.node_width += <span class="hljs-string">'%'</span>;
        us_sankey.redraw();
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Set node padding</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#us_node_padding'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        us_sankey.node_padding = +<span class="hljs-keyword">this</span>.value;
        <span class="hljs-keyword">if</span> ((&lt;HTMLInputElement&gt;<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input[name=us_node_padding_type]:checked'</span>)).value === <span class="hljs-string">'percent'</span>)
            us_sankey.node_padding += <span class="hljs-string">'%'</span>;
        us_sankey.redraw();
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Set link path curvature</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'us_link_path_curvature'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        us_sankey.link_path_curvature = +<span class="hljs-keyword">this</span>.value;
        us_sankey.redraw();
    });
}</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Change node width when changing between percent or pixel based units.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> radio of <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'us_sankey'</span>].elements[<span class="hljs-string">'us_node_width_type'</span>]) {
    radio.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> event = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">'HTMLEvents'</span>);
        event.initEvent(<span class="hljs-string">'change'</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>);
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'us_node_width'</span>).dispatchEvent(event);
    });
}</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Change node padding when changing between percent or pixel based units.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> radio of <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'us_sankey'</span>].elements[<span class="hljs-string">'us_node_padding_type'</span>]) {
    radio.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> event = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">'HTMLEvents'</span>);
        event.initEvent(<span class="hljs-string">'change'</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>);
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'us_node_padding'</span>).dispatchEvent(event);
    });
}</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Change between straight and curved paths for links.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'us_link_path'</span>).addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    us_sankey.link_path = <span class="hljs-keyword">this</span>.value;
    us_sankey.redraw();</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>NOTE: <em>curved paths should style the <code>stroke</code> while straight paths should style the <code>fill</code>.</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.value === <span class="hljs-string">'curve'</span>)
        us_sankey.path_options.styles = { fill: <span class="hljs-string">'none'</span>, stroke: <span class="hljs-string">'blue'</span>, opacity: <span class="hljs-number">0.5</span> };
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.value === <span class="hljs-string">'straight'</span>)
        us_sankey.path_options.styles = { fill: <span class="hljs-string">'green'</span>, stroke: <span class="hljs-string">'none'</span>, opacity: <span class="hljs-number">0.5</span> };
    us_sankey.restyle();
});</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Set node alignment justification</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uk_align'</span>).addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    uk_sankey.align = <span class="hljs-keyword">this</span>.value;
    uk_sankey.redraw();
});</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>IE doesn’t support <code>input</code> events</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> event_name of [<span class="hljs-string">'input'</span>, <span class="hljs-string">'change'</span>]) {</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Set layout algorithm iterations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#uk_iterations'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        uk_sankey.iterations = +<span class="hljs-keyword">this</span>.value;
        uk_sankey.redraw();
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Set layout algorithm alpha</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#uk_alpha'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        uk_sankey.alpha = +<span class="hljs-keyword">this</span>.value;
        uk_sankey.redraw();
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Set node width</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#uk_node_width'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        uk_sankey.node_width = +<span class="hljs-keyword">this</span>.value;
        <span class="hljs-keyword">if</span> ((&lt;HTMLInputElement&gt;<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input[name=uk_node_width_type]:checked'</span>)).value === <span class="hljs-string">'percent'</span>)
            uk_sankey.node_width += <span class="hljs-string">'%'</span>;
        uk_sankey.redraw();
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Set node padding</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#uk_node_padding'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        uk_sankey.node_padding = +<span class="hljs-keyword">this</span>.value;
        <span class="hljs-keyword">if</span> ((&lt;HTMLInputElement&gt;<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input[name=uk_node_padding_type]:checked'</span>)).value === <span class="hljs-string">'percent'</span>)
            uk_sankey.node_padding += <span class="hljs-string">'%'</span>;
        uk_sankey.redraw();
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Set link path curvature</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uk_link_path_curvature'</span>).addEventListener(event_name, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        uk_sankey.link_path_curvature = +<span class="hljs-keyword">this</span>.value;
        uk_sankey.redraw();
    });
}</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Change node width when changing between percent or pixel based units.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> radio of <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'uk_sankey'</span>].elements[<span class="hljs-string">'uk_node_width_type'</span>]) {
    radio.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> event = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">'HTMLEvents'</span>);
        event.initEvent(<span class="hljs-string">'change'</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>);
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uk_node_width'</span>).dispatchEvent(event);
    });
}</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Change node padding when changing between percent or pixel based units.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> radio of <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'uk_sankey'</span>].elements[<span class="hljs-string">'uk_node_padding_type'</span>]) {
    radio.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> event = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">'HTMLEvents'</span>);
        event.initEvent(<span class="hljs-string">'change'</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>);
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uk_node_padding'</span>).dispatchEvent(event);
    });
}</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Change between straight and curved paths for links.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uk_link_path'</span>).addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    uk_sankey.link_path = <span class="hljs-keyword">this</span>.value;
    uk_sankey.redraw();</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>NOTE: <em>curved paths should style the <code>stroke</code> while straight paths should style the <code>fill</code>.</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.value === <span class="hljs-string">'curve'</span>)
        uk_sankey.path_options.styles = { fill: <span class="hljs-string">'none'</span>, stroke: <span class="hljs-string">'blue'</span>, opacity: <span class="hljs-number">0.5</span> };
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.value === <span class="hljs-string">'straight'</span>)
        uk_sankey.path_options.styles = { fill: <span class="hljs-string">'green'</span>, stroke: <span class="hljs-string">'none'</span>, opacity: <span class="hljs-number">0.5</span> };
    uk_sankey.restyle();
});

<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uk_backedge'</span>).addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    uk_sankey.links = <span class="hljs-keyword">this</span>.checked ? d3.merge([uk_energy_data.links, uk_energy_data_backedges]) : uk_energy_data.links;
    uk_sankey.redraw();
});


<span class="hljs-keyword">interface</span> USEnergyData {
    name: <span class="hljs-built_in">string</span>;
    btu: <span class="hljs-built_in">number</span>;
}
<span class="hljs-keyword">interface</span> USEnergyLink {
    source: <span class="hljs-built_in">string</span>;
    target: <span class="hljs-built_in">string</span>;
    btu: <span class="hljs-built_in">number</span>;
}
<span class="hljs-keyword">var</span> us_energy_data = {
    <span class="hljs-number">2014</span>: {
        nodes: [
            { name: <span class="hljs-string">"Solar"</span>, btu: <span class="hljs-number">0.427</span> },
            { name: <span class="hljs-string">"Nuclear"</span>, btu: <span class="hljs-number">8.33</span> },
            { name: <span class="hljs-string">"Hydro"</span>, btu: <span class="hljs-number">2.47</span> },
            { name: <span class="hljs-string">"Wind"</span>, btu: <span class="hljs-number">1.73</span> },
            { name: <span class="hljs-string">"Geothermal"</span>, btu: <span class="hljs-number">0.202</span> },
            { name: <span class="hljs-string">"Natural Gas"</span>, btu: <span class="hljs-number">27.5</span> },
            { name: <span class="hljs-string">"Coal"</span>, btu: <span class="hljs-number">17.9</span> },
            { name: <span class="hljs-string">"Biomass"</span>, btu: <span class="hljs-number">4.78</span> },
            { name: <span class="hljs-string">"Petroleum"</span>, btu: <span class="hljs-number">34.8</span> },
            { name: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">38.564</span> },
            { name: <span class="hljs-string">"Imports"</span>, btu: <span class="hljs-number">0.164</span> },
            { name: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">11.8</span> },
            { name: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">8.93</span> },
            { name: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">24.7</span> },
            { name: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">27.1</span> },
            { name: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">59.4</span> },
            { name: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">38.9</span> },
            { name: <span class="hljs-string">"EXTRA NODE"</span>, btu: <span class="hljs-number">99999</span> },  <span class="hljs-comment">// Demonstrate node with no links is not rendered</span>
        ], links: [
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.17</span> },
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.252</span> },
            { source: <span class="hljs-string">"Nuclear"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.33</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">2.44</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">0.0257</span> },
            { source: <span class="hljs-string">"Wind"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">1.73</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.159</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.0197</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.0197</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.37</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">5.2</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">3.55</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">9.46</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.942</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">16.4</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.047</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">1.51</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.507</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.58</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.119</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">2.3</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">1.27</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.294</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.945</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.561</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.16</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">24.8</span> },
            { source: <span class="hljs-string">"Imports"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">.164</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">25.8</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.79</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">4.63</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">3.26</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.0265</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">4.12</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">3.13</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">4.95</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">21.4</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">7.66</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.81</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">19.8</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.68</span> },
        ]
    },
    <span class="hljs-number">2013</span>: {
        nodes: [
            { name: <span class="hljs-string">"Solar"</span>, btu: <span class="hljs-number">0.32</span> },
            { name: <span class="hljs-string">"Nuclear"</span>, btu: <span class="hljs-number">8.27</span> },
            { name: <span class="hljs-string">"Hydro"</span>, btu: <span class="hljs-number">2.56</span> },
            { name: <span class="hljs-string">"Wind"</span>, btu: <span class="hljs-number">1.6</span> },
            { name: <span class="hljs-string">"Geothermal"</span>, btu: <span class="hljs-number">0.201</span> },
            { name: <span class="hljs-string">"Natural Gas"</span>, btu: <span class="hljs-number">26.6</span> },
            { name: <span class="hljs-string">"Coal"</span>, btu: <span class="hljs-number">18</span>},
            { name: <span class="hljs-string">"Biomass"</span>, btu: <span class="hljs-number">4.49</span> },
            { name: <span class="hljs-string">"Petroleum"</span>, btu: <span class="hljs-number">35.1</span> },
            { name: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">38.379</span> },
            { name: <span class="hljs-string">"Imports"</span>, btu: <span class="hljs-number">0.179</span> },
            { name: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">11.4</span> },
            { name: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">8.59</span> },
            { name: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">24.7</span> },
            { name: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">27.0</span> },
            { name: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">59</span> },
            { name: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">38.4</span> },
            { name: <span class="hljs-string">"EXTRA NODE"</span>, btu: <span class="hljs-number">99999</span> },  <span class="hljs-comment">// Demonstrate node with no links is not rendered</span>
        ], links: [
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.0849</span> },
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.232</span> },
            { source: <span class="hljs-string">"Nuclear"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.27</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">2.53</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">0.032</span> },
            { source: <span class="hljs-string">"Wind"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">1.59</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.157</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.0197</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.0197</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.34</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">5.05</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">3.36</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">9.08</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.795</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">16.5</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.0454</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">1.5</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.465</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.42</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.112</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">2.25</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">1.24</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.262</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.893</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.477</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.58</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">24.9</span> },
            { source: <span class="hljs-string">"Imports"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">.179</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">25.8</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.75</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">4.57</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">3.26</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.0257</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">3.98</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">3.01</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">4.94</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">21.3</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">7.39</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.58</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">19.8</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.66</span> },
        ]
    },
    <span class="hljs-number">2012</span>: {
        nodes: [
            { name: <span class="hljs-string">"Solar"</span>, btu: <span class="hljs-number">0.0408</span> },
            { name: <span class="hljs-string">"Nuclear"</span>, btu: <span class="hljs-number">8.05</span> },
            { name: <span class="hljs-string">"Hydro"</span>, btu: <span class="hljs-number">2.69</span> },
            { name: <span class="hljs-string">"Wind"</span>, btu: <span class="hljs-number">1.36</span> },
            { name: <span class="hljs-string">"Geothermal"</span>, btu: <span class="hljs-number">0.227</span> },
            { name: <span class="hljs-string">"Natural Gas"</span>, btu: <span class="hljs-number">26</span> },
            { name: <span class="hljs-string">"Coal"</span>, btu: <span class="hljs-number">17.4</span> },
            { name: <span class="hljs-string">"Biomass"</span>, btu: <span class="hljs-number">4.32</span> },
            { name: <span class="hljs-string">"Petroleum"</span>, btu: <span class="hljs-number">34.7</span> },
            { name: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">38.261</span> },
            { name: <span class="hljs-string">"Imports"</span>, btu: <span class="hljs-number">0.161</span> },
            { name: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">10.6</span> },
            { name: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">8.29</span> },
            { name: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">23.9</span> },
            { name: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">26.7</span> },
            { name: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">58.1</span> },
            { name: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">37</span> },
            { name: <span class="hljs-string">"EXTRA NODE"</span>, btu: <span class="hljs-number">99999</span> },  <span class="hljs-comment">// Demonstrate node with no links is not rendered</span>
        ], links: [
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.0408</span> },
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.193</span> },
            { source: <span class="hljs-string">"Nuclear"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.05</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">2.67</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">0.018</span> },
            { source: <span class="hljs-string">"Wind"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">1.36</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.163</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.0396</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.0197</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">9.31</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.26</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">2.96</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.7</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.764</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">15.9</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.0433</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">1.48</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.429</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.42</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.109</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">2.2</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">1.16</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.218</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">1.02</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.632</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.12</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">24.7</span> },
            { source: <span class="hljs-string">"Imports"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">.161</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">25.7</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.69</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">4.52</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">3.35</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.0256</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">3.72</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">2.9</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">4.77</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">21.1</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">6.9</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.39</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">19.1</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.6</span> },
        ]
    },
    <span class="hljs-number">2011</span>: {
        nodes: [
            { name: <span class="hljs-string">"Solar"</span>, btu: <span class="hljs-number">0.158</span> },
            { name: <span class="hljs-string">"Nuclear"</span>, btu: <span class="hljs-number">8.26</span> },
            { name: <span class="hljs-string">"Hydro"</span>, btu: <span class="hljs-number">3.17</span> },
            { name: <span class="hljs-string">"Wind"</span>, btu: <span class="hljs-number">1.17</span> },
            { name: <span class="hljs-string">"Geothermal"</span>, btu: <span class="hljs-number">0.226</span> },
            { name: <span class="hljs-string">"Natural Gas"</span>, btu: <span class="hljs-number">24.9</span> },
            { name: <span class="hljs-string">"Coal"</span>, btu: <span class="hljs-number">19.7</span> },
            { name: <span class="hljs-string">"Biomass"</span>, btu: <span class="hljs-number">4.41</span> },
            { name: <span class="hljs-string">"Petroleum"</span>, btu: <span class="hljs-number">35.3</span> },
            { name: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">39.327</span> },
            { name: <span class="hljs-string">"Imports"</span>, btu: <span class="hljs-number">0.127</span> },
            { name: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">11.4</span> },
            { name: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">8.59</span> },
            { name: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">23.6</span> },
            { name: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">27</span> },
            { name: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">55.6</span> },
            { name: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">41.7</span> },
            { name: <span class="hljs-string">"EXTRA NODE"</span>, btu: <span class="hljs-number">99999</span> },  <span class="hljs-comment">// Demonstrate node with no links is not rendered</span>
        ], links: [
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.0175</span> },
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.14</span> },
            { source: <span class="hljs-string">"Nuclear"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.26</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">3.15</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">0.0179</span> },
            { source: <span class="hljs-string">"Wind"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">1.17</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.163</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.0396</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.0197</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">7.74</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.83</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">3.23</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.32</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.735</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">18</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.0512</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">1.61</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.444</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.43</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.11</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">2.27</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">1.15</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.288</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">1.14</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.683</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.06</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">25.1</span> },
            { source: <span class="hljs-string">"Imports"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">.127</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">26.6</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.86</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">4.5</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">3.33</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.026</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">2.29</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">1.72</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">4.72</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">20.3</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">9.15</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">6.87</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">18.9</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">6.76</span> },
        ]
    },
    <span class="hljs-number">2010</span>: {
        nodes: [
            { name: <span class="hljs-string">"Solar"</span>, btu: <span class="hljs-number">0.13</span> },
            { name: <span class="hljs-string">"Nuclear"</span>, btu: <span class="hljs-number">8.4</span> },
            { name: <span class="hljs-string">"Hydro"</span>, btu: <span class="hljs-number">2.5</span> },
            { name: <span class="hljs-string">"Wind"</span>, btu: <span class="hljs-number">0.92</span> },
            { name: <span class="hljs-string">"Geothermal"</span>, btu: <span class="hljs-number">0.210</span> },
            { name: <span class="hljs-string">"Natural Gas"</span>, btu: <span class="hljs-number">25</span> },
            { name: <span class="hljs-string">"Coal"</span>, btu: <span class="hljs-number">21</span> },
            { name: <span class="hljs-string">"Biomass"</span>, btu: <span class="hljs-number">3.5</span> },
            { name: <span class="hljs-string">"Petroleum"</span>, btu: <span class="hljs-number">36</span> },
            { name: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">40.029</span> },
            { name: <span class="hljs-string">"Imports"</span>, btu: <span class="hljs-number">0.029</span> },
            { name: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">12</span> },
            { name: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">8.5</span> },
            { name: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">24</span> },
            { name: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">27</span> },
            { name: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">60</span> },
            { name: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">38</span> },
            { name: <span class="hljs-string">"EXTRA NODE"</span>, btu: <span class="hljs-number">99999</span> },  <span class="hljs-comment">// Demonstrate node with no links is not rendered</span>
        ], links: [
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.012</span> },
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.110</span> },
            { source: <span class="hljs-string">"Nuclear"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.4</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">2.5</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">.79</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">0.016</span> },
            { source: <span class="hljs-string">"Wind"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.92</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.15</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.037</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.019</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">0.0042</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">7.6</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.9</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">3.2</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.3</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.72</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">19</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.07</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">1.6</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.46</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.44</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.11</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">1.5</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">1</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.38</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">1.1</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.65</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.2</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">26</span> },
            { source: <span class="hljs-string">"Imports"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.029</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">27</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.9</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">4.5</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">3.33</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.026</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">4</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">3</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">4.7</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">22</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">7.5</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.6</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">19</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.8</span> },
        ]
    },
    <span class="hljs-number">2009</span>: {
        nodes: [
            { name: <span class="hljs-string">"Solar"</span>, btu: <span class="hljs-number">0.32</span> },
            { name: <span class="hljs-string">"Nuclear"</span>, btu: <span class="hljs-number">8.27</span> },
            { name: <span class="hljs-string">"Hydro"</span>, btu: <span class="hljs-number">2.56</span> },
            { name: <span class="hljs-string">"Wind"</span>, btu: <span class="hljs-number">1.6</span> },
            { name: <span class="hljs-string">"Geothermal"</span>, btu: <span class="hljs-number">0.201</span> },
            { name: <span class="hljs-string">"Natural Gas"</span>, btu: <span class="hljs-number">26.6</span> },
            { name: <span class="hljs-string">"Coal"</span>, btu: <span class="hljs-number">18</span> },
            { name: <span class="hljs-string">"Biomass"</span>, btu: <span class="hljs-number">4.49</span> },
            { name: <span class="hljs-string">"Petroleum"</span>, btu: <span class="hljs-number">35.1</span> },
            { name: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">38.379</span> },
            { name: <span class="hljs-string">"Imports"</span>, btu: <span class="hljs-number">0.179</span> },
            { name: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">11.4</span> },
            { name: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">8.59</span> },
            { name: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">24.7</span> },
            { name: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">27</span> },
            { name: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">59</span> },
            { name: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">38.4</span> },
            { name: <span class="hljs-string">"EXTRA NODE"</span>, btu: <span class="hljs-number">99999</span> },  <span class="hljs-comment">// Demonstrate node with no links is not rendered</span>
        ], links: [
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.0849</span> },
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.232</span> },
            { source: <span class="hljs-string">"Nuclear"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.27</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">2.53</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">0.032</span> },
            { source: <span class="hljs-string">"Wind"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">1.59</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.157</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.0197</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.0197</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.34</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">5.05</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">3.36</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">9.08</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.795</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">16.5</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.0454</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">1.5</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.465</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.42</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.112</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">2.25</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">1.24</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.262</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.893</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.477</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.58</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">24.9</span> },
            { source: <span class="hljs-string">"Imports"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.179</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">25.8</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.75</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">4.57</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">3.26</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.0257</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">3.98</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">3.01</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">4.94</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">21.3</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">7.39</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.58</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">19.8</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">5.66</span> },
        ]
    },
    <span class="hljs-number">2008</span>: {
        nodes: [
            { name: <span class="hljs-string">"Solar"</span>, btu: <span class="hljs-number">0.09</span> },
            { name: <span class="hljs-string">"Nuclear"</span>, btu: <span class="hljs-number">8.45</span> },
            { name: <span class="hljs-string">"Hydro"</span>, btu: <span class="hljs-number">2.45</span> },
            { name: <span class="hljs-string">"Wind"</span>, btu: <span class="hljs-number">0.51</span> },
            { name: <span class="hljs-string">"Geothermal"</span>, btu: <span class="hljs-number">0.35</span> },
            { name: <span class="hljs-string">"Natural Gas"</span>, btu: <span class="hljs-number">23.84</span> },
            { name: <span class="hljs-string">"Coal"</span>, btu: <span class="hljs-number">22.42</span> },
            { name: <span class="hljs-string">"Biomass"</span>, btu: <span class="hljs-number">3.88</span> },
            { name: <span class="hljs-string">"Petroleum"</span>, btu: <span class="hljs-number">37.13</span> },
            { name: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">40.08</span> },
            { name: <span class="hljs-string">"Imports"</span>, btu: <span class="hljs-number">0.11</span> },
            { name: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">11.48</span> },
            { name: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">8.58</span> },
            { name: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">23.94</span> },
            { name: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">27.86</span> },
            { name: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">57.07</span> },
            { name: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">42.15</span> },
            { name: <span class="hljs-string">"EXTRA NODE"</span>, btu: <span class="hljs-number">99999</span> },  <span class="hljs-comment">// Demonstrate node with no links is not rendered</span>
        ], links: [
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.01</span> },
            { source: <span class="hljs-string">"Solar"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.08</span> },
            { source: <span class="hljs-string">"Nuclear"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">8.45</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">2.43</span> },
            { source: <span class="hljs-string">"Hydro"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">0.01</span> },
            { source: <span class="hljs-string">"Wind"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.51</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.31</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.02</span> },
            { source: <span class="hljs-string">"Geothermal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.01</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">6.82</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.99</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">3.2</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.14</span> },
            { source: <span class="hljs-string">"Natural Gas"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.67</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">20.54</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.06</span> },
            { source: <span class="hljs-string">"Coal"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">1.79</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.42</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">0.49</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.1</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">2.03</span> },
            { source: <span class="hljs-string">"Biomass"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.83</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.46</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">1.17</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">0.57</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">8.58</span> },
            { source: <span class="hljs-string">"Petroleum"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">26.33</span> },
            { source: <span class="hljs-string">"Imports"</span>, target: <span class="hljs-string">"Electricity"</span>, btu: <span class="hljs-number">0.11</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">27.39</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Residential"</span>, btu: <span class="hljs-number">4.7</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Commercial"</span>, btu: <span class="hljs-number">4.61</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Industrial"</span>, btu: <span class="hljs-number">3.35</span> },
            { source: <span class="hljs-string">"Electricity"</span>, target: <span class="hljs-string">"Transportation"</span>, btu: <span class="hljs-number">0.02</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">2.29</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">1.71</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">4.78</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Wasted"</span>, btu: <span class="hljs-number">20.9</span> },
            { source: <span class="hljs-string">"Residential"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">9.18</span> },
            { source: <span class="hljs-string">"Commercial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">6.86</span> },
            { source: <span class="hljs-string">"Industrial"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">19.15</span> },
            { source: <span class="hljs-string">"Transportation"</span>, target: <span class="hljs-string">"Useful"</span>, btu: <span class="hljs-number">6.96</span> },
        ]
    },
};</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Render the Sankey Flow Graph with US energy data</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>us_sankey.render({ data: us_energy_data[<span class="hljs-number">2014</span>].nodes, links: us_energy_data[<span class="hljs-number">2014</span>].links });


<span class="hljs-keyword">interface</span> UKEnergyData {
    name: <span class="hljs-built_in">string</span>;
}
<span class="hljs-keyword">interface</span> UKEnergyLink {
    source: <span class="hljs-built_in">number</span>;
    target: <span class="hljs-built_in">number</span>;
    value: <span class="hljs-built_in">number</span>;
}
<span class="hljs-keyword">var</span> uk_energy_data = {
    nodes: [
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Agricultural 'waste'"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Bio-conversion"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Liquid"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Losses"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Solid"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Gas"</span> }, <span class="hljs-comment">// 5</span>
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Biofuel imports"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Biomass imports"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Coal imports"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Coal"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Coal reserves"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"District heating"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Industry"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Heating and cooling - commercial"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Heating and cooling - homes"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Electricity grid"</span> }, <span class="hljs-comment">// 15</span>
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Over generation / exports"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"H2 conversion"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Road transport"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Agriculture"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Rail transport"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Lighting &amp; appliances - commercial"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Lighting &amp; appliances - homes"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Gas imports"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Ngas"</span> }, <span class="hljs-comment">// 24</span>
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Gas reserves"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Thermal generation"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Geothermal"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"H2"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Hydro"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"International shipping"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Domestic aviation"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"International aviation"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"National navigation"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Marine algae"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Nuclear"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Oil imports"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Oil"</span> }, <span class="hljs-comment">// 37</span>
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Oil reserves"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Other waste"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Pumped heat"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Solar PV"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Solar Thermal"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Solar"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Tidal"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"UK land based bioenergy"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Wave"</span> },
        { <span class="hljs-string">"name"</span>: <span class="hljs-string">"Wind"</span> }
    ],
    links: [
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">124.729</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">0.597</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">3</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">26.862</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">4</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">280.322</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">81.144</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">6</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">35</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">7</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">4</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">35</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">8</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">9</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">11.606</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">9</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">63.965</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">9</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">4</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">75.571</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">11</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">12</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">10.639</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">11</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">13</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">22.505</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">11</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">14</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">46.184</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">16</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">104.453</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">14</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">113.726</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">17</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">27.14</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">12</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">342.165</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">18</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">37.797</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">19</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">4.412</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">13</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">40.858</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">3</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">56.691</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">20</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">7.863</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">21</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">90.008</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">22</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">93.494</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">23</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">24</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">40.719</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">25</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">24</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">82.233</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">13</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">0.129</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">3</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">1.401</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">26</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">151.891</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">19</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">2.096</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">12</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">48.58</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">27</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">7.013</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">17</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">28</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">20.897</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">17</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">3</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">6.242</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">28</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">18</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">20.897</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">29</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">6.995</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">12</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">121.066</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">30</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">128.69</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">18</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">135.835</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">31</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">14.458</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">32</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">206.267</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">19</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">3.64</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">33</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">33.218</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">20</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">4.413</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">34</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">4.375</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">24</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">122.952</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">35</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">26</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">839.978</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">36</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">37</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">504.287</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">38</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">37</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">107.703</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">37</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">611.99</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">39</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">4</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">56.587</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">39</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">77.81</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">40</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">14</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">193.026</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">40</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">13</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">70.672</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">41</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">59.901</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">42</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">14</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">19.263</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">43</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">42</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">19.263</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">43</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">41</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">59.901</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">4</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">19</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">0.882</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">4</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">26</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">400.12</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">4</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">12</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">46.477</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">26</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">525.531</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">26</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">3</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">787.129</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">26</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">11</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">79.329</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">44</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">9.452</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">45</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">182.01</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">46</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">19.013</span> },
        { <span class="hljs-string">"source"</span>: <span class="hljs-number">47</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">15</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">289.366</span> },
    ]
};</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Cycles - (Made up data)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> uk_energy_data_backedges = [
    { <span class="hljs-string">"source"</span>: <span class="hljs-number">11</span>, <span class="hljs-string">"target"</span>: <span class="hljs-number">26</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">80</span> },
];</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Render the Sankey Flow Graph with UK energy data</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>uk_sankey.render({
    data: uk_energy_data.nodes,
    links: d3.merge([uk_energy_data.links, uk_energy_data_backedges]),
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
